---
order: 30
title:
  en-US: I18n
  zh-CN: 国际化
type: Advance
---

Angular 国际化常见有Angular 内置和基于 @ngx-translate/core （请参考[官网](https://github.com/ngx-translate/core)了解更多实现细节）两种不同国际化方案。

## 两种方案

### Angular 内置

Angular [文档](https://angular.io/guide/i18n)（[中文版](https://angular.cn/guide/i18n)）有完整的描述，**注意**需要为每一种语言构建和部署单独的应用程序版本。

### @ngx-translate/core

[@ngx-translate/core](https://github.com/ngx-translate/core) 是社区版本的 Angular 国际化，相比较Angular内置它是动态性，无须针对不同语言构建和部署单独版本，并且大部分情况下可以立即呈现。

## 如何配置

不管你选择哪一种国际化方案，最终选择的都只对你业务范围有效。

脚手架是由 `ng-zorro-antd`、`@delon/*` 类库两个重要部分组件，而这两个类库有自己的国际化配置，当进行国际化时需要对这些类库进行相同语言的配置。

### Angular

Angular 配置主要是针对货币、日期格式等，例如中文版本：

```ts
import { registerLocaleData } from '@angular/common';
import zh from '@angular/common/locales/zh';
registerLocaleData(zh);
```

### ng-zorro-antd

ng-zorro-antd 国际化默认是中文版，例如默认为英文版本：

```ts
import { NZ_I18N, en_US } from 'ng-zorro-antd';
@NgModule({
  ...
  imports     : [ NgZorroAntdModule ],
  providers   : [ { provide: NZ_I18N, useValue: en_US } ]
})
export class AppModule { }
```

当然，也可以使用运行时更改：

```ts
import { en_US, NzI18nService } from 'ng-zorro-antd';
...
constructor(private nzI18nService:NzI18nService) {
}

switchLanguage() {
  this.nzI18nService.setLocale(en_US);
}
```

### @delon

@delon 国际化默认是中文版，例如默认为英文版本：

```ts
import { DELON_LOCALE, en_US } from '@delon/theme';
@NgModule({
  ...
  providers   : [ { provide: DELON_LOCALE, useValue: en_US } ]
})
export class AppModule { }
```

当然，也可以使用运行时更改：

```ts
import { en_US, DelonLocaleService } from '@delon/theme';
...
constructor(private delonLocaleService: DelonLocaleService) {
}

switchLanguage() {
  this.delonLocaleService.setLocale(en_US);
}
```

### ALAIN_I18N_TOKEN

`@delon/*` 类库有许多带有 *i18n* 字样的数据接口属性（例如：`page-header`、`st` 列描述、`Menu` 菜单数据等等），当你希望这些组件的数据接口能动态根据 Key 值按当前语言自动切换时，你还需要对 `ALAIN_I18N_TOKEN` 定义一个自实现服务接口（例如：[I18NService](https://github.com/ng-alain/ng-alain/blob/master/src/app/core/i18n/i18n.service.ts)），并在根模块下注册。

```ts
import { ALAIN_I18N_TOKEN } from '@delon/theme';
import { I18NService } from '@core/i18n/i18n.service';

@NgModule({
  ...
  providers: [
    { provide: ALAIN_I18N_TOKEN, useClass: I18NService, multi: false }
  ]
})
export class AppModule {}
```

## 如何添加

创建脚手架[命令行](/cli/add) `ng add ng-alain@next` 时允许指定 ` --i18n` 表示是否包含国际化示例代码（采用 `@ngx-translate/core` 方式）。

## 如何删除

示例代码涉及内容包括：

+ `src/app/core/i18n` 目录
+ `app.module.ts` 对 `TranslateModule` 相关声明
+ 替换掉默认布局可能出现的I18n的Pipe使用 ` | translate`
+ 移除 `@ngx-translate/core`、`@ngx-translate/http-loader` 包体
